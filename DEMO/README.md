# TRANSPORT API (T-API) DEMO code

## Overview
This folder includes a basic autogenerated server which provides the Transport API as interface. Please read [EAGLE JsonCodeTools](https://github.com/OpenNetworkingFoundation/EAGLE-Open-Model-Profile-and-Tools/tree/JsonCodeTools)if you are interested in generating the server.
We load the server with an example topology described in [server_backend_state.json]().

## Server

You can run the server by typing:
```
python server.py
```

###Load server database with scenario (server_backend_state.json)
```
curl -X POST -H "Content-Type: application/json" http://127.0.0.1:8080/backend/load_state/
```

###Get Context
```
curl -X GET -H "Content-Type: application/json" http://127.0.0.1:8080/restconf/config/Context/
```

###Get topology Top0
```
curl -X GET -H "Content-Type: application/json" http://127.0.0.1:8080/restconf/config/Context/_topology/top0/
```

###Get Service End Points
```
curl -X GET -H "Content-Type: application/json" http://127.0.0.1:8080/restconf/config/Context/_serviceEndPoint/se1/
curl -X GET -H "Content-Type: application/json" http://127.0.0.1:8080/restconf/config/Context/_serviceEndPoint/se2/
```

###Create Connection
```
curl -X POST -H "Content-Type: application/json" http://127.0.0.1:8080/restconf/config/Context/_connectivityService/cs1/ -d'{"uuid":"cs1", "_connConstraints":{"serviceType":"POINT_TO_POINT_CONNECTIVITY", "serviceLayer":["OCH"] }, "_servicePort":[ { "localId":"sp1", "serviceLayer":"OCH" , "direction":"BIDIRECTIONAL", "role":"SYMMETRIC", "_serviceEndPoint":"http://127.0.0.1:8080/restconf/config/Context/_serviceEndPoint/se1"}, { "localId":"sp2", "serviceLayer":"OCH" , "direction":"BIDIRECTIONAL", "role":"SYMMETRIC", "_serviceEndPoint":"http://127.0.0.1:8080/restconf/config/Context/_serviceEndPoint/se2"} ] }'
```



